@import "tailwindcss";

/* ============================================
   TAILWIND V4 DARK MODE CONFIGURATION
   Enable class-based dark mode for manual toggle
   
   IMPORTANT: The :not(.light, .light *) exclusion allows
   report preview pages to maintain light mode styling
   even when the app is in dark mode (for print simulation)
   ============================================ */
@variant dark (&:where(.dark, .dark *):not(:where(.light, .light *)));

/* ============================================
   TAILWIND V4 THEME EXTENSION
   Map CSS variables to Tailwind utility classes
   Usage: bg-harken-accent, text-chart-primary, etc.
   ============================================ */
@theme {
  /* =============================================
     HARKEN OFFICIAL BRAND COLORS
     Reference: Harken Brand Color Palette Spec
     ============================================= */

  /* Primary Brand Colors */
  --color-harken-dark: var(--harken-dark);           /* #1c3643 - Body text */
  --color-harken-blue: var(--harken-blue);           /* #0da1c7 - Headers, links, CTAs */
  --color-harken-gray: var(--harken-gray);           /* #687f8b - Subtitles */
  --color-harken-accent: var(--harken-accent);
  --color-harken-accent-dark: var(--harken-accent-dark);
  --color-harken-accent-light: var(--harken-accent-light);

  /* Secondary Brand Colors (Official Grays) */
  --color-harken-gray-med: var(--harken-gray-med);       /* #b1bac0 */
  --color-harken-gray-med-lt: var(--harken-gray-med-lt); /* #d3d7d7 */
  --color-harken-gray-light: var(--harken-gray-light);   /* #f1f3f4 */
  --color-harken-error: var(--harken-error);             /* #c11b49 - Official error red */

  /* Accent Set 1: Quality (Teal Mint, Soft Indigo) */
  --color-accent-teal-mint: var(--accent-teal-mint);
  --color-accent-teal-mint-hover: var(--accent-teal-mint-hover);
  --color-accent-teal-mint-light: var(--accent-teal-mint-light);
  --color-accent-indigo: var(--accent-indigo);
  --color-accent-indigo-hover: var(--accent-indigo-hover);
  --color-accent-indigo-light: var(--accent-indigo-light);

  /* Accent Set 2: Attention (Amber Gold, Warm Slate) */
  --color-accent-amber-gold: var(--accent-amber-gold);
  --color-accent-amber-gold-hover: var(--accent-amber-gold-hover);
  --color-accent-amber-gold-light: var(--accent-amber-gold-light);
  --color-accent-warm-slate: var(--accent-warm-slate);
  --color-accent-warm-slate-hover: var(--accent-warm-slate-hover);
  --color-accent-warm-slate-light: var(--accent-warm-slate-light);

  /* Accent Set 3: Gamified (Electric Violet) */
  --color-accent-violet: var(--accent-violet);
  --color-accent-violet-hover: var(--accent-violet-hover);
  --color-accent-violet-light: var(--accent-violet-light);

  /* Legacy Accent Cyan (maps to harken-blue) */
  --color-accent-cyan: var(--accent-cyan);
  --color-accent-cyan-hover: var(--accent-cyan-hover);
  --color-accent-cyan-active: var(--accent-cyan-active);
  --color-accent-cyan-light: var(--accent-cyan-light);
  --color-accent-cyan-bg: var(--accent-cyan-bg);

  /* Legacy Accent Green (use teal-mint for quality indicators) */
  --color-accent-green: var(--accent-green);
  --color-accent-green-hover: var(--accent-green-hover);
  --color-accent-green-light: var(--accent-green-light);

  /* Legacy Accent Purple (use violet for achievements) */
  --color-accent-purple: var(--accent-purple);
  --color-accent-purple-hover: var(--accent-purple-hover);
  --color-accent-purple-light: var(--accent-purple-light);

  /* Legacy Accent Red (use harken-error for errors) */
  --color-accent-red: var(--accent-red);
  --color-accent-red-hover: var(--accent-red-hover);
  --color-accent-red-light: var(--accent-red-light);

  /* Legacy Accent Amber (use amber-gold for warnings) */
  --color-accent-amber: var(--accent-amber);
  --color-accent-amber-hover: var(--accent-amber-hover);
  --color-accent-amber-light: var(--accent-amber-light);

  /* Legacy Accent Rose */
  --color-accent-rose: var(--accent-rose);
  --color-accent-rose-hover: var(--accent-rose-hover);
  --color-accent-rose-light: var(--accent-rose-light);

  /* Chart Colors */
  --color-chart-primary: var(--chart-primary);
  --color-chart-secondary: var(--chart-secondary);
  --color-chart-tertiary: var(--chart-tertiary);
  --color-chart-quaternary: var(--chart-quaternary);
  --color-chart-positive: var(--chart-positive);
  --color-chart-negative: var(--chart-negative);
  --color-chart-neutral: var(--chart-neutral);
  --color-chart-income: var(--chart-income);
  --color-chart-expense: var(--chart-expense);
  --color-chart-loss: var(--chart-loss);
  --color-chart-net: var(--chart-net);

  /* Status Colors (mapped to official brand) */
  --color-status-success: var(--status-success);
  --color-status-warning: var(--status-warning);
  --color-status-error: var(--status-error);
  --color-status-info: var(--status-info);
  --color-status-ai: var(--status-ai);
  --color-status-locked: var(--status-locked);

  /* Surface Colors */
  --color-bg-primary: var(--bg-primary);
  --color-bg-secondary: var(--bg-secondary);
  --color-bg-elevated: var(--bg-elevated);
  --color-bg-card: var(--bg-card);
  --color-bg-hover: var(--bg-hover);

  /* Text Colors */
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-text-inverse: var(--text-inverse);

  /* =============================================
     LIGHT MODE SEMANTIC TEXT TOKENS
     Use these for consistent text hierarchy
     ============================================= */
  --color-text-heading: var(--text-heading);
  --color-text-title: var(--text-title);
  --color-text-body: var(--text-body);
  --color-text-label: var(--text-label);
  --color-text-hint: var(--text-hint);

  /* Badge/Chip Colors */
  --color-badge-bg: var(--badge-bg);
  --color-badge-text: var(--badge-text);
  --color-badge-border: var(--badge-border);

  /* Dark Mode Text Helpers
     These provide explicit dark-mode-safe text colors
     that maintain proper contrast on dark backgrounds */
  --color-dm-text-primary: #f1f5f9;    /* slate-100 - Primary text on dark */
  --color-dm-text-secondary: #cbd5e1;  /* slate-300 - Secondary text on dark */
  --color-dm-text-muted: #94a3b8;      /* slate-400 - Muted text on dark */
  --color-dm-text-dim: #64748b;        /* slate-500 - Very muted text on dark */

  /* =============================================
     LIGHT MODE SURFACE SYSTEM
     Creates visual depth through layered backgrounds
     
     CONFIGURABLE: Change these values to update
     the entire light mode palette globally.
     ============================================= */
  --color-surface-base: #f4f7f9;           /* Layer 0: App background */
  --color-surface-1: #ffffff;              /* Layer 1: Cards/Panels */
  --color-surface-2: #f8fafc;              /* Layer 2: Nested elements / section headers */
  --color-surface-3: #f1f5f9;              /* Layer 3: Subtle backgrounds - slate-100 equivalent */
  --color-surface-4: #e2e8f0;              /* Layer 4: Progress bars, sliders - slate-200 equivalent */
  --color-surface-hover: rgba(0,0,0,0.03); /* Hover states - subtle dim */
  --color-light-border: #b8c4ce;           /* Default borders - STRENGTHENED for visibility */
  --color-border-muted: #94a3b8;           /* Muted/dashed borders - slate-400 for visibility */
  --color-light-input: #ffffff;            /* Input fields background */
  --color-light-input-border: #cbd5e1;     /* Input field borders - slate-300 */

  /* =============================================
     LIGHT MODE TEXT HIERARCHY
     Semantic text colors with WCAG AA compliance
     
     All values achieve minimum 4.5:1 contrast on white
     except text-hint which is decorative only.
     ============================================= */
  --color-text-heading: #1c3643;           /* 12.5:1 - Primary headings, titles (harken-dark) */
  --color-text-title: #334155;             /* 9.8:1  - Card titles, section labels (slate-700) */
  --color-text-body: #475569;              /* 7.0:1  - Body paragraphs, descriptions (slate-600) */
  --color-text-label: #64748b;             /* 4.9:1  - Form labels, secondary info (slate-500) */
  --color-text-hint: #94a3b8;              /* 3.3:1  - Placeholders, decorative only (slate-400) */

  /* =============================================
     LIGHT MODE BADGE/CHIP SYSTEM
     Visible badges with proper contrast
     ============================================= */
  --color-badge-bg: #e2e8f0;               /* slate-200 - Visible badge backgrounds */
  --color-badge-text: #475569;             /* slate-600 - Readable badge text */
  --color-badge-border: #cbd5e1;           /* slate-300 - Badge borders if needed */

  /* =============================================
     DARK MODE ELEVATION SYSTEM
     Creates visual depth through layered backgrounds
     
     CONFIGURABLE: Change these values to update
     the entire dark mode palette globally.
     ============================================= */
  --color-elevation-base: #0d1a22;         /* Layer 0: App background (harken-dark) */
  --color-elevation-1: #1f2529;            /* Layer 1: Cards/Panels - lifted, warmer */
  --color-elevation-2: #2a3138;            /* Layer 2: Elevated/nested elements */
  --color-elevation-3: rgba(255,255,255,0.08);  /* Layer 3: Hover states - more visible */
  --color-elevation-subtle: #252b32;       /* Subtle dark backgrounds (slate-100 dark equivalent) */
  --color-elevation-muted: #2d353d;        /* Muted dark backgrounds (slate-200 dark equivalent) */
  --color-dark-border: #3d4a56;            /* Visible borders - STRENGTHENED for visibility */
  --color-dark-border-muted: #4a5868;      /* Muted/dashed borders - STRENGTHENED */
  --color-dark-input: #1f2529;             /* Input fields background - matches elevation-1 */
  --color-dark-input-border: #4a5868;      /* Input field borders - more visible */
  
  /* Dark Mode Badge Colors (mapped) */
  --color-dark-badge-bg: #334155;          /* Visible badge background */
  --color-dark-badge-text: #e2e8f0;        /* Readable badge text */
  --color-dark-badge-border: #475569;      /* Badge border */

  /* Border Colors */
  --color-border-subtle: var(--border-subtle);
  --color-border-default: var(--border-default);
  --color-border-accent: var(--border-accent);

  /* Gradient Tokens */
  --color-gradient-action-from: var(--gradient-action-from);
  --color-gradient-action-to: var(--gradient-action-to);
  --color-gradient-action-hover-from: var(--gradient-action-hover-from);
  --color-gradient-action-hover-to: var(--gradient-action-hover-to);
  --color-gradient-light-from: var(--gradient-light-from);
  --color-gradient-light-to: var(--gradient-light-to);
  --color-gradient-light-hover-from: var(--gradient-light-hover-from);
  --color-gradient-light-hover-to: var(--gradient-light-hover-to);
  --color-gradient-icon-from: var(--gradient-icon-from);
  --color-gradient-icon-to: var(--gradient-icon-to);
  --color-gradient-brand-from: var(--gradient-brand-from);
  --color-gradient-brand-to: var(--gradient-brand-to);
}

/* ============================================
   HARKEN DARK MODE - Theme Variables
   ============================================ */

/* ============================================
   DARK MODE TEXT COLOR STRATEGY
   ============================================
   
   CRITICAL: The harken-gray-* tokens use INVERTED 
   LUMINOSITY in dark mode (designed for backgrounds).
   
   For TEXT in dark mode, use Tailwind slate classes:
   
   | Light Mode          | Dark Mode           |
   |---------------------|---------------------|
   | text-harken-dark    | dark:text-white     |
   | text-harken-gray    | dark:text-slate-300 |
   | text-harken-gray-med| dark:text-slate-400 |
   
   NEVER USE for dark mode text:
   - dark:text-harken-gray-light (contrast 1.04:1 - INVISIBLE)
   - dark:text-harken-gray-med-lt (contrast 2.2:1 - FAILS AA)
   - dark:text-harken-gray-med (contrast 3.2:1 - FAILS AA)
   
   Why? In dark mode these tokens resolve to:
   - harken-gray-light: #1e293b (nearly same as background)
   - harken-gray-med-lt: #475569 (too dark)
   - harken-gray-med: #64748b (below WCAG AA 4.5:1)
   ============================================ */

/* Light Theme (Default) */
:root {
  /* =============================================
     HARKEN OFFICIAL PRIMARY COLORS
     ============================================= */
  --harken-dark: #1c3643;      /* Dark Blue - Body text */
  --harken-blue: #0da1c7;      /* Blue - Headers, links, CTAs */
  --harken-gray: #687f8b;      /* Blue/Gray - Subtitles */
  --harken-white: #ffffff;     /* White */
  
  /* Legacy aliases */
  --harken-accent: #4db8d1;
  --harken-accent-dark: #0da1c7;
  --harken-accent-light: #7fcce0;
  --harken-accent-soft: rgba(77, 184, 209, 0.12);
  --harken-text: #687f8b;
  --harken-border: #e8eaed;

  /* =============================================
     GRADIENT TOKENS (Semantic UI Patterns)
     ============================================= */
  /* Pattern 1: Primary Action Gradients - Strong CTAs */
  --gradient-action-from: #0da1c7;      /* harken-blue */
  --gradient-action-to: #0890a8;        /* darker cyan */
  --gradient-action-hover-from: #0b8fb0;
  --gradient-action-hover-to: #0780a0;
  
  /* Pattern 2: Light Action Gradients - Secondary/AI actions */
  --gradient-light-from: #4db8d1;       /* harken-accent */
  --gradient-light-to: #7fcce0;         /* harken-accent-light */
  --gradient-light-hover-from: #3da8c1;
  --gradient-light-hover-to: #6fc0d4;
  
  /* Pattern 3: Icon/Badge Gradients - Micro-interactions */
  --gradient-icon-from: #0da1c7;        /* harken-blue */
  --gradient-icon-to: #4db8d1;          /* harken-accent */
  
  /* Pattern 4: Brand Header Gradient - Hero sections */
  --gradient-brand-from: #0da1c7;       /* harken-blue */
  --gradient-brand-to: #1c3643;         /* harken-dark */

  /* =============================================
     HARKEN OFFICIAL SECONDARY COLORS
     Adjusted for proper contrast ratios (WCAG AA)
     ============================================= */
  --harken-gray-med: #64748b;      /* Med Gray - DARKENED for 4.9:1 contrast */
  --harken-gray-med-lt: #94a3b8;   /* Med Gray LT - DARKENED for 3.3:1 */
  --harken-gray-light: #e2e8f0;    /* Light Gray - Visible badge bg */
  --harken-error: #c11b49;         /* Error Red - Official brand */

  /* =============================================
     SEMANTIC TEXT HIERARCHY (Light Mode)
     All achieve minimum WCAG AA contrast on white
     ============================================= */
  --text-heading: #1c3643;         /* 12.5:1 - Primary headings */
  --text-title: #334155;           /* 9.8:1  - Card titles, labels */
  --text-body: #475569;            /* 7.0:1  - Body text, descriptions */
  --text-label: #64748b;           /* 4.9:1  - Form labels */
  --text-hint: #94a3b8;            /* 3.3:1  - Placeholders (decorative) */

  /* Badge/Chip Colors (Light Mode) */
  --badge-bg: #e2e8f0;             /* Visible background */
  --badge-text: #475569;           /* Readable text */
  --badge-border: #cbd5e1;         /* Subtle border */

  /* =============================================
     HARKEN ACCENT SET 1: QUALITY
     ============================================= */
  --accent-teal-mint: #2fc4b2;           /* Success, Quality badges, Score rings */
  --accent-teal-mint-hover: #28b3a2;
  --accent-teal-mint-light: rgba(47, 196, 178, 0.12);
  --accent-indigo: #5b6ee1;              /* AI-assisted, Insight icons, Enhanced labels */
  --accent-indigo-hover: #4f61d4;
  --accent-indigo-light: rgba(91, 110, 225, 0.12);

  /* =============================================
     HARKEN ACCENT SET 2: ATTENTION
     ============================================= */
  --accent-amber-gold: #f2b705;          /* Pending Review, Flagged Comps, Warnings */
  --accent-amber-gold-hover: #daa504;
  --accent-amber-gold-light: rgba(242, 183, 5, 0.12);
  --accent-warm-slate: #8c9aa6;          /* Locked states, Secondary badges, Placeholders */
  --accent-warm-slate-hover: #7d8b97;
  --accent-warm-slate-light: rgba(140, 154, 166, 0.12);

  /* =============================================
     HARKEN ACCENT SET 3: GAMIFIED
     ============================================= */
  --accent-violet: #8b5cf6;              /* Achievements, Power user, Special recognition */
  --accent-violet-hover: #7c4fdf;
  --accent-violet-light: rgba(139, 92, 246, 0.12);

  /* Legacy success colors (prefer teal-mint for quality) */
  --harken-success: #2fc4b2;
  --harken-success-dark: #28b3a2;

  /* Surfaces */
  --bg-primary: #f9fafb;
  --bg-secondary: #ffffff;
  --bg-elevated: #ffffff;
  --bg-card: #ffffff;
  --bg-input: #ffffff;
  --bg-header: #1c3643;
  --bg-hover: #f3f4f6;
  --bg-sidebar: #ffffff;

  /* Text */
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-muted: #9ca3af;
  --text-inverse: #ffffff;

  /* Borders */
  --border-subtle: #e5e7eb;
  --border-default: #d1d5db;
  --border-accent: #0da1c7;

  /* =============================================
     LEGACY ACCENT COLORS (for backwards compatibility)
     Prefer official Harken accent sets above
     ============================================= */
  --accent-cyan: #0da1c7;        /* Maps to harken-blue */
  --accent-cyan-hover: #0b8fb0;
  --accent-cyan-active: #0890a8;
  --accent-cyan-light: #e0f7fc;
  --accent-cyan-bg: rgba(13, 161, 199, 0.08);

  --accent-green: #2fc4b2;       /* Updated to teal-mint */
  --accent-green-hover: #28b3a2;
  --accent-green-light: #dcfce7;
  --accent-green-bg: rgba(47, 196, 178, 0.08);

  --accent-purple: #8b5cf6;      /* Maps to electric violet */
  --accent-purple-hover: #7c4fdf;
  --accent-purple-light: #f3e8ff;
  --accent-purple-bg: rgba(139, 92, 246, 0.08);

  --accent-red: #c11b49;         /* Updated to harken-error */
  --accent-red-hover: #a91840;
  --accent-red-light: #fef2f2;
  --accent-red-bg: rgba(193, 27, 73, 0.08);

  --accent-amber: #f2b705;       /* Updated to amber-gold */
  --accent-amber-hover: #daa504;
  --accent-amber-light: #fef3c7;
  --accent-amber-bg: rgba(242, 183, 5, 0.08);

  --accent-rose: #f43f5e;
  --accent-rose-hover: #e11d48;
  --accent-rose-light: #ffe4e6;

  --accent-pink: #ec4899;
  --accent-pink-hover: #db2777;
  --accent-pink-light: #fce7f3;

  /* Chart Colors - Using official Harken brand palette */
  --chart-primary: #0da1c7;      /* Harken Blue */
  --chart-secondary: #2fc4b2;    /* Teal Mint */
  --chart-tertiary: #8b5cf6;     /* Electric Violet */
  --chart-quaternary: #f2b705;   /* Amber Gold */
  --chart-positive: #2fc4b2;     /* Teal Mint - Quality/Success */
  --chart-negative: #c11b49;     /* Harken Error Red */
  --chart-neutral: #8c9aa6;      /* Warm Slate */
  --chart-income: #0da1c7;       /* Harken Blue */
  --chart-expense: #f2b705;      /* Amber Gold */
  --chart-loss: #c11b49;         /* Harken Error Red */
  --chart-net: #2fc4b2;          /* Teal Mint */
  --chart-grid: #e2e8f0;
  --chart-axis: #687f8b;         /* Harken Gray */

  /* Status Colors - Official Harken Brand */
  --status-success: #2fc4b2;     /* Teal Mint - Quality/Success */
  --status-warning: #f2b705;     /* Amber Gold - Attention/Flagged */
  --status-error: #c11b49;       /* Harken Error Red */
  --status-info: #0da1c7;        /* Harken Blue */
  --status-ai: #5b6ee1;          /* Soft Indigo - AI-assisted features */
  --status-locked: #8c9aa6;      /* Warm Slate - Locked/Unavailable */

  /* Selection & Focus States */
  --ring-focus: #0da1c7;
  --ring-focus-bg: rgba(13, 161, 199, 0.1);

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-glow-cyan: 0 0 20px rgba(13, 161, 199, 0.15);
}

/* Dark Theme */
html.dark {
  /* =============================================
     HARKEN OFFICIAL PRIMARY COLORS (Dark Mode)
     Luminous variants for dark backgrounds
     ============================================= */
  --harken-dark: #0d1a22;        /* Deepened for dark mode */
  --harken-blue: #00d4ff;        /* Luminous Blue */
  --harken-gray: #94a3b8;        /* Lightened for visibility */
  --harken-white: #ffffff;
  
  /* Legacy aliases */
  --harken-accent: #00d4ff;
  --harken-accent-dark: #0da1c7;
  --harken-accent-light: #33ddff;
  --harken-accent-soft: rgba(0, 212, 255, 0.15);
  --harken-text: #94a3b8;
  --harken-border: #334155;

  /* =============================================
     GRADIENT TOKENS (Dark Mode - Luminous)
     ============================================= */
  /* Pattern 1: Primary Action Gradients */
  --gradient-action-from: #00d4ff;
  --gradient-action-to: #0da1c7;
  --gradient-action-hover-from: #22d6f8;
  --gradient-action-hover-to: #0fb8d4;
  
  /* Pattern 2: Light Action Gradients */
  --gradient-light-from: #00d4ff;
  --gradient-light-to: #33ddff;
  --gradient-light-hover-from: #0dc7e8;
  --gradient-light-hover-to: #4de3ff;
  
  /* Pattern 3: Icon/Badge Gradients */
  --gradient-icon-from: #00d4ff;
  --gradient-icon-to: #0da1c7;
  
  /* Pattern 4: Brand Header Gradient */
  --gradient-brand-from: #00d4ff;
  --gradient-brand-to: #0d1a22;

  /* =============================================
     HARKEN OFFICIAL SECONDARY COLORS (Dark Mode)
     ============================================= */
  --harken-gray-med: #94a3b8;        /* Lightened for dark bg visibility */
  --harken-gray-med-lt: #64748b;     /* Subtle on dark */
  --harken-gray-light: #1e293b;      /* Dark bg for badges */
  --harken-error: #e8857e;           /* Softened coral - less harsh on dark */

  /* =============================================
     SEMANTIC TEXT HIERARCHY (Dark Mode)
     Proper contrast for dark backgrounds
     ============================================= */
  --text-heading: #f1f5f9;           /* Primary headings - slate-100 */
  --text-title: #e2e8f0;             /* Card titles - slate-200 */
  --text-body: #cbd5e1;              /* Body text - slate-300 */
  --text-label: #94a3b8;             /* Form labels - slate-400 */
  --text-hint: #64748b;              /* Placeholders - slate-500 */

  /* Badge/Chip Colors (Dark Mode) */
  --badge-bg: #334155;               /* Visible on dark */
  --badge-text: #e2e8f0;             /* Readable on dark */
  --badge-border: #475569;           /* Subtle border */

  /* =============================================
     HARKEN ACCENT SET 1: QUALITY (Dark Mode)
     ============================================= */
  --accent-teal-mint: #4fd9c7;       /* Luminous Teal Mint */
  --accent-teal-mint-hover: #5fe5d3;
  --accent-teal-mint-light: rgba(79, 217, 199, 0.15);
  --accent-indigo: #818cf8;          /* Luminous Soft Indigo */
  --accent-indigo-hover: #a5b4fc;
  --accent-indigo-light: rgba(129, 140, 248, 0.15);

  /* =============================================
     HARKEN ACCENT SET 2: ATTENTION (Dark Mode)
     ============================================= */
  --accent-amber-gold: #fcd34d;      /* Luminous Amber Gold */
  --accent-amber-gold-hover: #fde68a;
  --accent-amber-gold-light: rgba(252, 211, 77, 0.15);
  --accent-warm-slate: #a8b5c4;      /* Lightened Warm Slate */
  --accent-warm-slate-hover: #b8c4d1;
  --accent-warm-slate-light: rgba(168, 181, 196, 0.15);

  /* =============================================
     HARKEN ACCENT SET 3: GAMIFIED (Dark Mode)
     ============================================= */
  --accent-violet: #a78bfa;          /* Luminous Electric Violet */
  --accent-violet-hover: #c4b5fd;
  --accent-violet-light: rgba(167, 139, 250, 0.15);

  /* Legacy success colors */
  --harken-success: #4fd9c7;
  --harken-success-dark: #4fd9c7;

  /* Surfaces */
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-elevated: #334155;
  --bg-card: #1e293b;
  --bg-input: #1e293b;
  --bg-header: #0f172a;
  --bg-hover: #334155;
  --bg-sidebar: #1e293b;

  /* Text */
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --text-inverse: #0f172a;

  /* Borders */
  --border-subtle: #334155;
  --border-default: #475569;
  --border-accent: #00d4ff;

  /* =============================================
     LEGACY ACCENT COLORS (Dark Mode)
     ============================================= */
  --accent-cyan: #00d4ff;        /* Maps to harken-blue */
  --accent-cyan-hover: #33ddff;
  --accent-cyan-active: #66e5ff;
  --accent-cyan-light: #0c4a5e;
  --accent-cyan-bg: rgba(0, 212, 255, 0.12);

  --accent-green: #4fd9c7;       /* Updated to luminous teal-mint */
  --accent-green-hover: #5fe5d3;
  --accent-green-light: #14532d;
  --accent-green-bg: rgba(79, 217, 199, 0.12);

  --accent-purple: #a78bfa;      /* Maps to luminous violet */
  --accent-purple-hover: #c4b5fd;
  --accent-purple-light: #3b0764;
  --accent-purple-bg: rgba(167, 139, 250, 0.12);

  --accent-red: #e8857e;         /* Softened coral - less harsh on dark */
  --accent-red-hover: #f0a099;
  --accent-red-light: #450a0a;
  --accent-red-bg: rgba(232, 133, 126, 0.12);

  --accent-amber: #fcd34d;       /* Luminous amber-gold */
  --accent-amber-hover: #fde68a;
  --accent-amber-light: #451a03;
  --accent-amber-bg: rgba(252, 211, 77, 0.12);

  --accent-rose: #fb7185;
  --accent-rose-hover: #fda4af;
  --accent-rose-light: #4c0519;

  --accent-pink: #f472b6;
  --accent-pink-hover: #f9a8d4;
  --accent-pink-light: #500724;

  /* Chart Colors - Official Harken Brand (Dark Mode) */
  --chart-primary: #00d4ff;      /* Luminous Harken Blue */
  --chart-secondary: #4fd9c7;    /* Luminous Teal Mint */
  --chart-tertiary: #a78bfa;     /* Luminous Electric Violet */
  --chart-quaternary: #fcd34d;   /* Luminous Amber Gold */
  --chart-positive: #4fd9c7;     /* Luminous Teal Mint */
  --chart-negative: #f87171;     /* Luminous Error Red */
  --chart-neutral: #a8b5c4;      /* Luminous Warm Slate */
  --chart-income: #00d4ff;       /* Luminous Harken Blue */
  --chart-expense: #fcd34d;      /* Luminous Amber Gold */
  --chart-loss: #f87171;         /* Luminous Error Red */
  --chart-net: #4fd9c7;          /* Luminous Teal Mint */
  --chart-grid: #334155;
  --chart-axis: #94a3b8;

  /* Status Colors - Official Harken Brand (Dark Mode) */
  --status-success: #4fd9c7;     /* Luminous Teal Mint */
  --status-warning: #fcd34d;     /* Luminous Amber Gold */
  --status-error: #f87171;       /* Luminous Error Red */
  --status-info: #00d4ff;        /* Luminous Harken Blue */
  --status-ai: #818cf8;          /* Luminous Soft Indigo */
  --status-locked: #a8b5c4;      /* Luminous Warm Slate */

  /* Selection & Focus States */
  --ring-focus: #00d4ff;
  --ring-focus-bg: rgba(0, 212, 255, 0.15);

  /* Shadows - Softer for dark */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  --shadow-glow-cyan: 0 0 25px rgba(0, 212, 255, 0.25);
}

/* Smooth theme transitions */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 150ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Disable transitions for elements that shouldn't animate */
.no-transition,
.no-transition * {
  transition: none !important;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Custom scrollbar - default subtle */
*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
*::-webkit-scrollbar-track {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: rgba(180, 180, 180, 0.4);
  border-radius: 10px;
}
*::-webkit-scrollbar-thumb:hover {
  background: rgba(150, 150, 150, 0.6);
}

/* Dark mode scrollbar */
html.dark *::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.5);
}
html.dark *::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.8);
}

/* Enhanced scrollbar for grid components - sleek and always visible */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: var(--border-default);
  border-radius: 4px;
  border: 1px solid var(--bg-secondary);
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}
.custom-scrollbar::-webkit-scrollbar-corner {
  background: var(--bg-secondary);
}

/* Firefox scrollbar support */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--border-default) var(--bg-secondary);
}

/* Hide number input spinners - clean professional aesthetic */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield; /* Firefox */
  appearance: textfield;
}

/* Date input calendar icon styling */
input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  filter: invert(45%) sepia(70%) saturate(500%) hue-rotate(160deg) brightness(95%) contrast(90%);
  opacity: 1;
}

input[type="date"]::-webkit-calendar-picker-indicator:hover {
  filter: invert(35%) sepia(80%) saturate(600%) hue-rotate(160deg) brightness(90%) contrast(95%);
}

/* ============================================
   ANIMATIONS
   ============================================ */

/* Basic Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scale-in {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out forwards;
}

/* ============================================
   PROGRESS & CELEBRATION ANIMATIONS
   ============================================ */

/* Slow spin for gears */
@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

.animate-spin-slow-reverse {
  animation: spin-slow 2.5s linear infinite reverse;
}

/* Spark effect */
@keyframes spark {
  0% { opacity: 0; transform: rotate(var(--angle, 0deg)) translateY(-30px) scale(0); }
  50% { opacity: 1; transform: rotate(var(--angle, 0deg)) translateY(-40px) scale(1.5); }
  100% { opacity: 0; transform: rotate(var(--angle, 0deg)) translateY(-50px) scale(0); }
}

.animate-spark {
  animation: spark 0.6s ease-out forwards;
}

/* Line drawing effect */
@keyframes draw-line {
  to { stroke-dashoffset: 0; }
}

/* Sparkle effect */
@keyframes sparkle {
  0% { opacity: 0; transform: scale(0); }
  50% { opacity: 1; transform: scale(1.5); }
  100% { opacity: 0; transform: scale(0); }
}

/* Chart bar rise up */
@keyframes rise-up {
  from { height: 0; }
  to { height: var(--target-height, 50%); }
}

/* Shrink width for progress bars */
@keyframes shrink-width {
  from { width: 100%; }
  to { width: 0%; }
}

/* Scale X animation */
@keyframes scale-x {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

/* Float up effect */
@keyframes float-up {
  0% { opacity: 0; transform: translateY(0); }
  30% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-60px); }
}

/* Pulse glow */
@keyframes pulse-glow {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

/* Fireworks burst */
@keyframes burst {
  0% { opacity: 0; transform: scale(0); }
  50% { opacity: 1; transform: scale(2); }
  100% { opacity: 0; transform: scale(3); }
}

/* Explode particles outward */
@keyframes explode {
  0% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(0, 0) scale(0); 
  }
  20% { opacity: 1; }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(var(--tx, 0), var(--ty, 0)) scale(0.5); 
  }
}

/* Spark trail */
@keyframes spark-trail {
  0% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(0, 0); 
  }
  20% { opacity: 1; }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(var(--tx, 0), var(--ty, 0)); 
  }
}

/* Falling with spin */
@keyframes fall-spin {
  0% { 
    opacity: 0; 
    transform: translateY(0) rotate(0deg); 
  }
  10% { opacity: 1; }
  100% { 
    opacity: 0; 
    transform: translateY(300px) rotate(720deg); 
  }
}

/* Fade and scale in */
@keyframes fade-scale-in {
  from { opacity: 0; transform: scale(0.5); }
  to { opacity: 1; transform: scale(1); }
}

/* Shimmer effect */
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.animate-shimmer {
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* Cascade fall */
@keyframes cascade-fall {
  0% { 
    opacity: 0; 
    transform: translateY(0) rotate(0deg); 
  }
  10% { opacity: 1; }
  100% { 
    opacity: 0.3; 
    transform: translateY(280px) rotate(180deg); 
  }
}

/* Twinkle */
@keyframes twinkle {
  from { opacity: 0; transform: scale(0); }
  to { opacity: 1; transform: scale(1); }
}

/* Trophy reveal */
@keyframes trophy-reveal {
  from { 
    opacity: 0; 
    transform: scale(0.5) translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: scale(1) translateY(0); 
  }
}

/* Orbiting particles */
@keyframes orbit-particle {
  from { 
    opacity: 0.7;
    transform: translate(-50%, -50%) rotate(var(--orbit-angle, 0deg)) translateY(-50px); 
  }
  to { 
    opacity: 0.7;
    transform: translate(-50%, -50%) rotate(calc(var(--orbit-angle, 0deg) + 360deg)) translateY(-50px); 
  }
}

/* Slide up fade */
@keyframes slide-up-fade {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

/* Confetti burst */
@keyframes confetti-burst {
  0% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(0, 0) rotate(0deg); 
  }
  20% { opacity: 1; }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) translate(var(--burst-x, 0), var(--burst-y, 0)) rotate(var(--spin, 360deg)); 
  }
}

/* Scale bounce */
@keyframes scale-bounce {
  0% { transform: scale(0.5); opacity: 0; }
  60% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.animate-scale-bounce {
  animation: scale-bounce 0.5s ease-out forwards;
}

/* Pulse once */
@keyframes pulse-once {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.animate-pulse-once {
  animation: pulse-once 0.5s ease-out;
}

/* Bounce once */
@keyframes bounce-once {
  0%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
  60% { transform: translateY(-2px); }
}

.animate-bounce-once {
  animation: bounce-once 0.4s ease-out;
}

/* Ping once */
@keyframes ping-once {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

.animate-ping-once {
  animation: ping-once 0.6s ease-out forwards;
}

/* Ping slow - Standard ping but slower */
@keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

.animate-ping-slow {
  animation: ping 3s cubic-bezier(0, 0, 0.2, 1) infinite;
}

/* Slide in from right */
@keyframes slide-in-right {
  from { 
    opacity: 0; 
    transform: translateX(100%); 
  }
  to { 
    opacity: 1; 
    transform: translateX(0); 
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out forwards;
}

/* Slide out to right */
@keyframes slide-out-right {
  from { 
    opacity: 1; 
    transform: translateX(0); 
  }
  to { 
    opacity: 0; 
    transform: translateX(100%); 
  }
}

.animate-slide-out-right {
  animation: slide-out-right 0.3s ease-out forwards;
}

/* ============================================
   VISUAL SLOT PICKER & DROP PANEL ANIMATIONS
   ============================================ */

/* Zoom in animation */
@keyframes zoom-in-95 {
  from { 
    opacity: 0; 
    transform: scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

.animate-in {
  animation-duration: 200ms;
  animation-fill-mode: forwards;
}

.fade-in {
  animation-name: fade-in;
}

.zoom-in-95 {
  animation-name: zoom-in-95;
}

/* Slide in from bottom */
@keyframes slide-in-from-bottom-2 {
  from { 
    opacity: 0; 
    transform: translateY(8px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.slide-in-from-bottom-2 {
  animation-name: slide-in-from-bottom-2;
}

/* Slot card stagger animation */
@keyframes slot-card-reveal {
  from { 
    opacity: 0; 
    transform: translateY(10px) scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1); 
  }
}

.animate-slot-reveal {
  animation: slot-card-reveal 0.3s ease-out forwards;
  animation-delay: var(--stagger-delay, 0ms);
}

/* Glow pulse for drag over state */
@keyframes glow-pulse {
  0%, 100% { 
    box-shadow: 0 0 0 3px rgba(13, 161, 199, 0.2); 
  }
  50% { 
    box-shadow: 0 0 0 6px rgba(13, 161, 199, 0.4); 
  }
}

.animate-glow-pulse {
  animation: glow-pulse 1s ease-in-out infinite;
}

/* Whoosh effect for accept all */
@keyframes whoosh {
  0% { 
    transform: translateX(0); 
    opacity: 1; 
  }
  100% { 
    transform: translateX(50px); 
    opacity: 0; 
  }
}

.animate-whoosh {
  animation: whoosh 0.3s ease-out forwards;
}

/* Success celebration pulse */
@keyframes success-pulse {
  0% { 
    transform: scale(1); 
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.5); 
  }
  50% { 
    transform: scale(1.02); 
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0); 
  }
  100% { 
    transform: scale(1); 
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); 
  }
}

.animate-success-pulse {
  animation: success-pulse 0.5s ease-out;
}

/* Floating panel slide in */
@keyframes panel-slide-in {
  from { 
    transform: translateX(100%); 
    opacity: 0.5;
  }
  to { 
    transform: translateX(0); 
    opacity: 1;
  }
}

.animate-panel-in {
  animation: panel-slide-in 0.3s ease-out forwards;
}

/* Drop zone highlight */
@keyframes drop-highlight {
  0%, 100% { 
    background-color: rgba(13, 161, 199, 0.1); 
  }
  50% { 
    background-color: rgba(13, 161, 199, 0.2); 
  }
}

.animate-drop-highlight {
  animation: drop-highlight 1s ease-in-out infinite;
}

/* Category tab spring animation */
@keyframes tab-spring {
  0% { transform: scale(0.9); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.animate-tab-spring {
  animation: tab-spring 0.25s ease-out;
}

/* Photo thumbnail hover lift */
@keyframes thumbnail-lift {
  from { 
    transform: translateY(0) scale(1); 
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  to { 
    transform: translateY(-4px) scale(1.02); 
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.15);
  }
}

.hover-lift:hover {
  animation: thumbnail-lift 0.2s ease-out forwards;
}


/* ============================================
   LIGHT MODE FORCE OVERRIDE (REPORT PREVIEW)
   Ensures report preview pages maintain light mode
   styling even when the app is in dark mode.
   Forces light mode colors for all states (base, hover, focus).
   ============================================ */
.light,
.light *,
.light *:hover,
.light *:focus {
  /* Force light mode surface colors */
  --color-surface-base: #f4f7f9 !important;
  --color-surface-1: #ffffff !important;
  --color-surface-2: #f8fafc !important;
  --color-surface-3: #f1f5f9 !important;
  --color-surface-4: #e2e8f0 !important;
  --color-surface-hover: rgba(0,0,0,0.04) !important;
  
  /* Force light mode elevation colors to match surface */
  --color-elevation-base: #f4f7f9 !important;
  --color-elevation-1: #ffffff !important;
  --color-elevation-2: #f8fafc !important;
  --color-elevation-3: rgba(0,0,0,0.04) !important;
  --color-elevation-subtle: #f1f5f9 !important;
  --color-elevation-muted: #e2e8f0 !important;
  
  /* Force light mode border colors */
  --color-light-border: #b8c4ce !important;
  --color-dark-border: #b8c4ce !important;
  --color-border-muted: #94a3b8 !important;
  --color-dark-border-muted: #94a3b8 !important;
}

/* Force hover backgrounds to light colors within .light containers */
.dark .light *:hover {
  --color-bg-hover: rgba(0,0,0,0.03) !important;
}

/* Direct background color overrides for hover states in report preview */
.light .bg-elevation-3,
.light .bg-elevation-2,
.light .bg-elevation-1,
.light [class*="hover:bg-elevation"]:hover,
.light [class*="hover:bg-surface"]:hover {
  background-color: #f8fafc !important;
}

/* ============================================
   REPORT PAGE LIGHT MODE OVERRIDE
   Forces all elements within report pages to use
   light mode colors. Uses higher specificity to
   override dark mode Tailwind classes.
   ============================================ */
.report-page-light-mode,
.report-page-light-mode * {
  /* Override ALL dark mode background colors */
  background-color: inherit;
}

.report-page-light-mode .bg-surface-1,
.report-page-light-mode .bg-surface-2,
.report-page-light-mode .bg-surface-3 {
  background-color: #ffffff !important;
}

.report-page-light-mode [class*='bg-elevation'] {
  background-color: #ffffff !important;
}

.report-page-light-mode [class*='bg-harken-gray-light'] {
  background-color: #f1f3f4 !important;
}

/* Force dark text colors in report pages */
.report-page-light-mode [class*='text-slate-800'],
.report-page-light-mode [class*='text-slate-900'] {
  color: #1e293b !important;
}

.report-page-light-mode [class*='text-slate-700'] {
  color: #334155 !important;
}

.report-page-light-mode [class*='text-slate-600'] {
  color: #475569 !important;
}

.report-page-light-mode [class*='text-slate-500'] {
  color: #64748b !important;
}

.report-page-light-mode [class*='text-white'] {
  color: #1e293b !important;
}

/* Force light hover backgrounds */
.report-page-light-mode *:hover {
  background-color: inherit;
}

.report-page-light-mode [class*='hover:bg-surface']:hover,
.report-page-light-mode [class*='hover:bg-elevation']:hover {
  background-color: #f8fafc !important;
}

/* Force light borders */
.report-page-light-mode [class*='border-dark-border'] {
  border-color: #b8c4ce !important;
}
